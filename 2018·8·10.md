# js note

## jQuery

### 选择器

选择器是jQuery的核心。一个选择器写出来类似$('#dom-id')。
如果id为abc的`<div>`不存在，返回的jQuery对象如下：`[]`
总之jQuery的选择器不会返回`undefined`或者`null`，这样的好处是你不必在下一行判断`if (div === undefined)`。

```js
var div = $('#abc'); // jQuery对象
var divDom = div.get(0); // 假设存在div，获取第1个DOM元素
var another = $(divDom); // 重新把DOM包装为jQuery对象
```

通常情况下你不需要获取DOM对象，直接使用`jQuery`对象更加方便。如果你拿到了一个`DOM`对象，那可以简单地调用`$(aDomObject)`把它变成`jQuery`对象，这样就可以方便地使用`jQuery`的`API`了。

按tag查找:`var ps = $('p'); // 返回所有<p>节点`

按class查找:

```js
var a = $('.red'); // 所有节点包含`class="red"`都将返回
// 例如:
// <div class="red">...</div>
// <p class="green red">...</p>
var a = $('.red.green'); // 注意没有空格！
// 符合条件的节点：
// <div class="red green">...</div>
// <div class="blue green red">...</div>
```

按属性查找:一个DOM节点除了id和class外还可以有很多属性，很多时候按属性查找会非常方便，比如在一个表单中按属性来查找

```js
var email = $('[name=email]'); // 找出<??? name="email">
var passwordInput = $('[type=password]'); // 找出<??? type="password">
var a = $('[items="A B"]'); // 找出<??? items="A B">

//当属性的值包含空格等特殊字符时，需要用双引号括起来。
//按属性查找还可以使用前缀查找或者后缀查找：
var icons = $('[name^=icon]'); // 找出所有name属性值以icon开头的DOM
// 例如: name="icon-1", name="icon-2"
var names = $('[name$=with]'); // 找出所有name属性值以with结尾的DOM
// 例如: name="startswith", name="endswith"

//这个方法尤其适合通过class属性查找，且不受class包含多个名称的影响：
var icons = $('[class^="icon-"]'); // 找出所有class包含至少一个以`icon-`开头的DOM
// 例如: class="icon-clock", class="abc icon-home"
```

组合查找:组合查找就是把上述简单选择器组合起来使用。如果我们查找`$('[name=email]')`，很可能把表单外的`<div name="email">`也找出来，但我们只希望查找`<input>`，就可以这么写：

```js
var emailInput = $('input[name=email]'); // 不会找出<div name="email">  
var tr = $('tr.red'); // 找出<tr class="red ...">...</tr>
```

多项选择器：多项选择器就是把多个选择器用`,`组合起来一块选:*要注意的是，选出来的元素是按照它们在HTML中出现的顺序排列的，而且不会有重复元素。例如，`<p class="red green">`不会被上面的`$('p.red,p.green')`选择两次。*

```js
$('p,div'); // 把<p>和<div>都选出来
$('p.red,p.green'); // 把<p class="red">和<p class="green">都选出来
```

练习：选择邮件和名字input

```html
<!-- HTML结构 -->
<div id="test-jquery">
    <p id="para-1" class="color-red">JavaScript</p>
    <p id="para-2" class="color-green">Haskell</p>
    <p class="color-red color-green">Erlang</p>
    <p name="name" class="color-black">Python</p>
    <form class="test-form" target="_blank" action="#0" onsubmit="return false;">
        <legend>注册新用户</legend>
        <fieldset>
            <p><label>名字: <input name="name"></label></p>
            <p><label>邮件: <input name="email"></label></p>
            <p><label>口令: <input name="password" type="password"></label></p>
            <p><button type="submit">注册</button></p>
        </fieldset>
    </form>
</div>
```

```js
'use strict';
selected = $('input[name=name],input[name=email]');
// 高亮结果:
if (!(selected instanceof jQuery)) {
    return console.log('不是有效的jQuery对象!');
}
$('#test-jquery').find('*').css('background-color', '');
selected.css('background-color', '#ffd351');
```

#### [层级选择器](https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001437023139167510b90eb2c924f72aeba0db592a9eb54000)

表单相关
针对表单元素，jQuery还有一组特殊的选择器：

- `:input`：可以选择`<input>，<textarea>，<select>和<button>`；

- `:file`：可以选择`<input type="file">`，和input[type=file]一样；

- `:checkbox`：可以选择复选框，和`input[type=checkbox]`一样；

- `:radio`：可以选择单选框，和`input[type=radio]`一样；

- `:focus`：可以选择当前输入焦点的元素，例如把光标放到一个`<input>`上，用`$('input:focus')`就可以选出；

- `:checked`：选择当前勾上的单选框和复选框，用这个选择器可以立刻获得用户选择的项目，如`$('input[type=radio]:checked')`；

- `:enabled`：可以选择可以正常输入的`<input>、<select>`等，也就是没有灰掉的输入；

- `:disabled`：和:enabled正好相反，选择那些不能输入的。

#### 查找和过滤

- `find()`:`var hsk = ul.find('[name=haskell]'); // 获得Haskell`
- `next()`:`swift.next('[name=haskell]');// 空的jQuery对象，因为Swift的下一个元素Scheme不符合条件[name=haskell]`
- `prev()`:`swift.prev('.dy'); // Python，因为Python同时符合过滤器条件.dy`
- `filter()`:

```js
var langs = $('ul.lang li'); // 拿到JavaScript, Python, Swift, Scheme和Haskell
langs.filter(function () {
    return this.innerHTML.indexOf('S') === 0; // 返回S开头的节点
}); // 拿到Swift, Scheme
```

- `map()`:

```js
var langs = $('ul.lang li'); // 拿到JavaScript, Python, Swift, Scheme和Haskell
var arr = langs.map(function () {
    return this.innerHTML;
}).get(); // 用get()拿到包含string的Array：['JavaScript', 'Python', 'Swift', 'Scheme', 'Haskell']
//此外，一个jQuery对象如果包含了不止一个DOM节点，first()、last()和slice()方法可以返回一个新的jQuery对象，把不需要的DOM节点去掉：
var langs = $('ul.lang li'); // 拿到JavaScript, Python, Swift, Scheme和Haskell
var js = langs.first(); // JavaScript，相当于$('ul.lang li:first-child')
var haskell = langs.last(); // Haskell, 相当于$('ul.lang li:last-child')
var sub = langs.slice(2, 4); // Swift, Scheme, 参数和数组的slice()方法一致
```

练习

```html
<form id="test-form" action="#0" onsubmit="return false;">
    <p><label>Name: <input name="name"></label></p>
    <p><label>Email: <input name="email"></label></p>
    <p><label>Password: <input name="password" type="password"></label></p>
    <p>Gender: <label><input name="gender" type="radio" value="m" checked> Male</label> <label><input name="gender" type="radio" value="f"> Female</label></p>
    <p><label>City: <select name="city">
        <option value="BJ" selected>Beijing</option>
        <option value="SH">Shanghai</option>
        <option value="CD">Chengdu</option>
        <option value="XM">Xiamen</option>
    </select></label></p>
    <p><button type="submit">Submit</button></p>
</form>
```

输入值后，用`jQuery`获取表单的JSON字符串，`key`和`value`分别对应每个输入的`name`和相应的`value`，例如：`{"name":"Michael","email":...}`

```js
'use strict';
var json = null;
var obj = {
    name: $('[name=name]').val(),
    email: $('[name=email]').val(),
    password: $('[name=password]').val(),
    gender: $('[name = gender]').filter(function () {
        return this.checked === true;
    }).val(),
    city: $('form#test-form select').val()
}
json = JSON.stringify(obj);
// 显示结果:
if (typeof (json) === 'string') {
    console.log(json);
} else {
    console.log('json变量不是string!');
}
```

---
# md用法  &middot;  [![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://github.com/facebook/react/blob/master/LICENSE) [![npm version](https://img.shields.io/npm/v/react.svg?style=flat)](https://www.npmjs.com/package/react) [![Coverage Status](https://img.shields.io/coveralls/facebook/react/master.svg?style=flat)](https://coveralls.io/github/facebook/react?branch=master) [![CircleCI Status](https://circleci.com/gh/facebook/react.svg?style=shield&circle-token=:circle-token)](https://circleci.com/gh/facebook/react) [![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://reactjs.org/docs/how-to-contribute.html#your-first-pull-request)

这里列举一下常用的快捷键： 
加粗 Ctrl + B ****
斜体 Ctrl + I **
引用 Ctrl + Q 
插入链接 Ctrl + L 
插入代码 Ctrl + K 
插入图片 Ctrl + G 
提升标题 Ctrl + H 
有序列表 Ctrl + O 
无序列表 Ctrl + U 
横线 Ctrl + R 
撤销 Ctrl + Z 
重做 Ctrl + Y

---
# github using

同步： 创建本地分支，比较，删除本地分支
- 使用如下命令可以查看远程仓库（我这里有一个origin仓库）:`git remote -v  `
- 使用如下命令可以在本地新建一个temp分支，并将远程origin仓库的master分支代码下载到本地temp分支:`$  git fetch origin master:temp `
- 使用如下命令来比较本地代码与刚刚从远程下载下来的代码的区别：`$  git diff temp`
- 合并temp分支到本地的master分支对比区别之后，如果觉得没有问题，可以使用如下命令进行代码合并：`$  git merge temp`
- 如果temp分支不想要保留，可以使用如下命令删除该分支：`git branch -d temp  `     

